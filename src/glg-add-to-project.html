<link rel="import" href="../node_modules/glg-current-user/src/glg-current-user.html">
<link rel="import" href="../node_modules/glg-nectar/src/glg-nectar.html">
<polymer-element name="glg-add-to-project" attributes="results cmids appName"
  on-project="{{addToProject}}"
  >
  <template>
    <link rel="stylesheet" type="text/css" href="./glg-add-to-project.less">
    <glg-current-user id="atp-user" username="{{username}}"></glg-current-user>
    <core-ajax
      auto=true
      id="myprojects"
      method="GET"
      url=""
      handleAs="json"
      withCredentials=true
      on-core-response="{{myprojectsResponse}}">
    </core-ajax>
    <div>
      <h1>Add to Project</h1>
      <ui-typeahead
          id="projects"
          placeholder="Find a project by name..."
          debounce="200">
        <icon search></icon>
        <template id="projectMatches" repeat="{{matches}}">
          <ui-typeahead-item>
            <span><strong>{{name}}</strong> [<i>{{createDate}}</i>]</span>
          </ui-typeahead-item>
        </template>
      </ui-typeahead>
    </div>
  </template>
  <script src="./glg-add-to-project.litcoffee"></script>
</polymer-element>
