<link rel="import" href="../node_modules/ui-pages/src/ui-pages.html">
<link rel="stylesheet" href="../node_modules/ui-fonts/node_modules/ui-font-awesome/font-awesome.less">
<link rel="import" href="../node_modules/ui-preview/src/ui-only-one-expanded.html">
<link rel="import" href="../node_modules/glg-current-user/src/glg-current-user.html">
<link rel="import" href="../node_modules/ui-button/src/ui-button.html">
<link rel="import" href="../node_modules/ui-attention/src/ui-attention.html">
<link rel="import" href="../bower_components/core-list/core-list.html">
<h1>Add Expert to Project</h1>
<polymer-element name="glg-add-to-project" attributes="taskview data username searchstring"
  on-task="{{processTask}}"
  on-task-delete="{{processTaskDelete}}">
<template>
  <link rel="stylesheet" type="text/css" href="./glg-add-to-project.less">
  <glg-current-user username="{{username}}"></glg-current-user>
  <div>
    <row id="searchbar" spaced>
      <ui-input id="search" placeholder="Search tasks" borderless value="{{searchstring}}">
        <icon search></icon>
      </ui-input>
      <ui-button minimal on-click="{{addTodo}}">
        <ui-tooltip>
          <span tip>Add a Todo</span>
          <icon plus-square></icon>
        </ui-tooltip>
      </ui-button>
    </row>
  </div>
  <div>
    <template if="{{!searchstring}}">
      <div>Your Tasks</div>
      <ui-attention number>{{data.your.length | todoNumber}}</ui-attention>
    </template>
    <template if="{{searchstring}}">
       <div id="searching">
       </div>
    </template>
  </div>
  <ui-pages id="taskview" value="{{taskview}}" on-task-save="{{processTaskSave}}">
    <ui-page value="search">
      <template if="{{!data.search.length}}">
        I didn't manage to find anything for you. <icon frown-o></icon>
      </template>
      <ui-only-one-expanded>
        <template repeat="{{project in data.search}}">
        </template>
      </ui-only-one-expanded>
    </ui-page>
  </ui-pages>
</template>
<!-- <script src="./glg-add-to-project.litcoffee"></script> -->
</polymer-element>
